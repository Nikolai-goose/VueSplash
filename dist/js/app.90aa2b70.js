(function(t){function e(e){for(var n,s,i=e[0],c=e[1],l=e[2],d=0,m=[];d<i.length;d++)s=i[d],o[s]&&m.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},o={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"30db":function(t,e,a){"use strict";var n=a("a4c0"),o=a.n(n);o.a},5009:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[t._m(0),a("div",{staticClass:"section"},[a("img-list",{attrs:{images:t.getImages}}),a("loader")],1),t.getModalVisible?a("modal",{attrs:{photo:t.getCurrentPhoto,loading:t.getModalLoading}}):t._e()],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[a("h1",[t._v("temporary header")])])}],s=a("cebc"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{directives:[{name:"masonry",rawName:"v-masonry"}],staticClass:"cards",attrs:{"transition-duration":"0","item-selector":".card"}},t._l(t.images,function(t){return a("img-card",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:t.id,attrs:{img:t}})}),1)},c=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"card"},[a("div",{staticClass:"card__hover-block hover-block",attrs:{href:t.img.links.html}},[a("div",{staticClass:"hover-block__item hover-block__item--bottom-left"},[a("user-link",{attrs:{user:t.img.user}})],1),a("div",{staticClass:"hover-block__item hover-block__item--bottom-right"},[a("button",{staticClass:"button button--white button--semitransparent",on:{click:t.showModal}},[a("span",{staticClass:"fas fa-expand"})])])]),a("img",{staticClass:"card__image",attrs:{src:t.img.urls.small}})])},u=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"user-link",attrs:{url:t.user.links.html}},[a("img",{staticClass:"user-link__image",attrs:{src:t.user.profile_image.small}}),a("div",{staticClass:"user-link__name"},[t._v(t._s(t.user.name))])])},m=[],f={name:"UserLink",props:{user:{type:Object,required:!0}}},g=f,h=(a("f610"),a("2877")),b=Object(h["a"])(g,d,m,!1,null,null,null),p=b.exports,v=a("2f62"),_={name:"ImgCard",components:{UserLink:p},props:{img:{type:Object,required:!0}},methods:Object(s["a"])({},Object(v["b"])(["openModal"]),{showModal:function(){this.openModal(this.img.id)}})},C=_,k=(a("788c"),Object(h["a"])(C,l,u,!1,null,null,null)),y=k.exports,M={name:"ImgList",components:{ImgCard:y},props:{images:{type:Array,required:!0}}},O=M,j=(a("e97f"),Object(h["a"])(O,i,c,!1,null,null,null)),P=j.exports,w=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},I=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loader"},[a("div",{staticClass:"cube-loader"},[a("div",{staticClass:"cube loader-1"}),a("div",{staticClass:"cube loader-2"}),a("div",{staticClass:"cube loader-3"}),a("div",{staticClass:"cube loader-4"})])])}],L={name:"Loader"},x=L,E=(a("a071"),Object(h["a"])(x,w,I,!1,null,null,null)),S=E.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal-fade"}},[a("div",{staticClass:"modal-backdrop",on:{click:t.hide}},[this.loading?a("loader"):a("div",{staticClass:"modal hover-block",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("div",{staticClass:"hover-block__item hover-block__item--top-left"},[a("button",{staticClass:"button button--transparent button--close",attrs:{"aria-label":"Close modal"},on:{click:t.hideModal}})]),a("section",{staticClass:"modal__body hover-block__item hover-block__item--center"},[a("v-lazy-image",{staticClass:"modal__image",attrs:{src:t.photo.urls.full,"src-placeholder":t.photo.urls.small}})],1),a("div",{staticClass:"hover-block__item hover-block__item--bottom-left"},[a("user-link",{attrs:{user:t.photo.user}})],1)])],1)])},q=[],T=a("8dc2"),N=a.n(T),U={name:"Modal",components:{UserLink:p,Loader:S,VLazyImage:N.a},props:{photo:{type:Object,required:!0},loading:{type:Boolean,required:!0}},methods:Object(s["a"])({},Object(v["d"])(["hideModal"]),{hide:function(t){"modal-backdrop"!==t.target.className&&"modal hover-block"!==t.target.className||this.hideModal()}})},V=U,z=(a("30db"),Object(h["a"])(V,$,q,!1,null,null,null)),H=z.exports,J=a("b012"),A={name:"app",components:{ImgList:P,Loader:S,Modal:H},created:function(){this.fetchImages(this.getCurrentPage)},destroyed:function(){this.clearImages()},methods:Object(s["a"])({},Object(v["b"])(["fetchImages","clearImages"]),{scroll:function(){var t=this;window.onscroll=function(){var e=document.documentElement.scrollTop,a=e+window.innerHeight===document.documentElement.offsetHeight;a&&Object(J["debounce"])(t.fetchImages(t.getCurrentPage),100)}}}),computed:Object(s["a"])({},Object(v["c"])(["getImages","getCurrentPage","getModalVisible","getModalLoading","getCurrentPhoto"])),mounted:function(){this.scroll()}},B=A,D=(a("5c0b"),Object(h["a"])(B,o,r,!1,null,null,null)),R=D.exports,F=a("3f9b"),G=a("bc3a"),K=a.n(G),Q=K.a.create({baseURL:"https://api.unsplash.com/",params:{client_id:"408e711c2099563c2766fe4ddc2aa295065743db89d29b36644146fb93e83e53"}}),W=Q;n["a"].use(v["a"]),n["a"].use(F["a"]);var X=new v["a"].Store({state:{imgs:[],currentPage:1,modal:{visible:!1,loading:!1,currentPhoto:{}}},mutations:{updateCurrentPage:function(t){t.currentPage+=1},setImages:function(t,e){t.imgs=t.imgs.concat(e)},clearState:function(t){t.imgs=[]},showModal:function(t){t.modal.visible=!0},hideModal:function(t){t.modal.visible=!1,t.modal.currentPhoto={}},setModalLoading:function(t){t.modal.loading=!t.modal.loading},setCurrentPhoto:function(t,e){t.modal.currentPhoto=e}},getters:{getImages:function(t){return t.imgs},getCurrentPage:function(t){return t.currentPage},getModalVisible:function(t){return t.modal.visible},getModalLoading:function(t){return t.modal.loading},getCurrentPhoto:function(t){return t.modal.currentPhoto}},actions:{fetchImages:function(t,e){var a=t.commit;W.get("/photos?page=".concat(e,"&per_page=20")).then(function(t){a("updateCurrentPage"),a("setImages",t.data)}).catch(function(t){console.log(t)})},clearImages:function(t){var e=t.commit;e("clearState")},openModal:function(t,e){var a=t.commit,n=t.dispatch;a("showModal"),n("fetchSimgleImage",e)},fetchSimgleImage:function(t,e){var a=t.commit;a("setModalLoading"),W.get("/photos/".concat(e)).then(function(t){a("setModalLoading"),a("setCurrentPhoto",t.data)}).catch(function(t){a("setModalLoading"),console.log(t)})}}});n["a"].config.productionTip=!1,new n["a"]({store:X,render:function(t){return t(R)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("5e27"),o=a.n(n);o.a},"5e27":function(t,e,a){},"788c":function(t,e,a){"use strict";var n=a("d4f9"),o=a.n(n);o.a},"8d54":function(t,e,a){},a071:function(t,e,a){"use strict";var n=a("f0b0"),o=a.n(n);o.a},a4c0:function(t,e,a){},d4f9:function(t,e,a){},e97f:function(t,e,a){"use strict";var n=a("8d54"),o=a.n(n);o.a},f0b0:function(t,e,a){},f610:function(t,e,a){"use strict";var n=a("5009"),o=a.n(n);o.a}});
//# sourceMappingURL=app.90aa2b70.js.map